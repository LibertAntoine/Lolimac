<VirtualHost *:80>
        DocumentRoot /home/lolimac-front/dist/browser
        # ServerName www.lolimac.fr
        # TODO redirect *:80 to *:443 for https

        ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined

        # Frontend
        <Directory /home/lolimac-front/dist/browser/>
                Options Indexes FollowSymLinks MultiViews
                AllowOverride None
                Order allow,deny
                allow from all

                RewriteEngine On

                # If an existing asset or directory is requested go to it as it is
                RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} -f [OR]
                RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} -d
                RewriteRule ^ - [L]

                # If the requested resource doesn't exist, use index.html
                RewriteRule ^ /index.html
        </Directory>

        # Backend
        Alias /api /home/lolimac-back/api
        <Directory /home/lolimac-back/api>
                Options Indexes FollowSymLinks MultiViews
                AllowOverride None
                Order allow,deny
                allow from all

                RewriteEngine On
                RewriteRule ^ /index.php
        </Directory>
</VirtualHost>